{"componentChunkName":"component---src-templates-blog-post-js","path":"/SQL/","result":{"data":{"site":{"siteMetadata":{"title":"Lee Blog"}},"markdownRemark":{"id":"d3e59781-d870-5966-a5d1-ecd4776ead92","excerpt":"select select 语句用来从一个或多个表中或其他数据库对象中提取数据，一般的select语句就像这样： select列表列出查询的返回最终结果集中需要显示哪些列，这些列可以是数据表中一个实际的列、一个表达式、或者甚至是一个select语句的结果。 insert insert…","html":"<h2>select</h2>\n<p>select 语句用来从一个或多个表中或其他数据库对象中提取数据，一般的select语句就像这样：</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> c<span class=\"token punctuation\">.</span>customer_id<span class=\"token punctuation\">,</span> \n       <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">.</span>order_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> orders_ct\n<span class=\"token keyword\">from</span> oe<span class=\"token punctuation\">.</span>customers c\n<span class=\"token keyword\">join</span> oe<span class=\"token punctuation\">.</span>orders o\n<span class=\"token keyword\">on</span> c<span class=\"token punctuation\">.</span>customer_id <span class=\"token operator\">=</span> o<span class=\"token punctuation\">.</span>customer_id\n<span class=\"token keyword\">where</span> c<span class=\"token punctuation\">.</span>gender <span class=\"token operator\">=</span> <span class=\"token string\">'F'</span>\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> c<span class=\"token punctuation\">.</span>customer_id\n<span class=\"token keyword\">having</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span>o<span class=\"token punctuation\">.</span>order_id<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">4</span>\n<span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> orders_ct<span class=\"token punctuation\">,</span> c<span class=\"token punctuation\">.</span>customer_id</code></pre></div>\n<p>select列表列出查询的返回最终结果集中需要显示哪些列，这些列可以是数据表中一个实际的列、一个表达式、<u>或者甚至是一个select语句的结果</u>。</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> c<span class=\"token punctuation\">.</span>customer_id<span class=\"token punctuation\">,</span>\n       c<span class=\"token punctuation\">.</span>cust_first_name<span class=\"token operator\">||</span><span class=\"token string\">' '</span><span class=\"token operator\">||</span>c<span class=\"token punctuation\">.</span>cust_last_name<span class=\"token punctuation\">,</span>\n       <span class=\"token punctuation\">(</span><span class=\"token keyword\">select</span> e<span class=\"token punctuation\">.</span>last_name <span class=\"token keyword\">from</span> hr<span class=\"token punctuation\">.</span>employees e <span class=\"token keyword\">where</span> e<span class=\"token punctuation\">.</span>employee_id <span class=\"token operator\">=</span> c<span class=\"token punctuation\">.</span>account_mgr_id<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> acct_mgr\n<span class=\"token keyword\">from</span> oe<span class=\"token punctuation\">.</span>customers c</code></pre></div>\n<h3>insert</h3>\n<p>insert语句用来向表、分区或视图中添加行。</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> hr<span class=\"token punctuation\">.</span>jobs j <span class=\"token punctuation\">(</span>j<span class=\"token punctuation\">.</span>job_id<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">.</span>job_title<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">.</span>min_salary<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">.</span>max_salary<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token string\">'IT_PM'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Project Manager'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">11000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">rollback</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> scott<span class=\"token punctuation\">.</span>bonus <span class=\"token punctuation\">(</span>ename<span class=\"token punctuation\">,</span> job<span class=\"token punctuation\">,</span> sal<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">select</span> ename<span class=\"token punctuation\">,</span>\n       job<span class=\"token punctuation\">,</span> \n       sal <span class=\"token operator\">*</span> <span class=\"token number\">.10</span>\n<span class=\"token keyword\">from</span> scott<span class=\"token punctuation\">.</span>emp\n\n<span class=\"token comment\">-- 多表插入</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">all</span>\n<span class=\"token keyword\">when</span> sum_orders <span class=\"token operator\">&lt;</span> <span class=\"token number\">10000</span> <span class=\"token keyword\">then</span>\n<span class=\"token keyword\">into</span> small_customers\n<span class=\"token keyword\">when</span> sum_orders <span class=\"token operator\">>=</span> <span class=\"token number\">10000</span> <span class=\"token operator\">and</span> sum_orders <span class=\"token operator\">&lt;</span> <span class=\"token number\">100000</span> <span class=\"token keyword\">then</span>\n<span class=\"token keyword\">into</span> medium_customers\n<span class=\"token keyword\">else</span>\n<span class=\"token keyword\">into</span> large_customers\n<span class=\"token keyword\">select</span> customer_id<span class=\"token punctuation\">,</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>order_total<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> sum_orders\n<span class=\"token keyword\">from</span> oe<span class=\"token punctuation\">.</span>orders\n<span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> customer_id</code></pre></div>\n<h3>update</h3>","frontmatter":{"title":"SQL","date":"2020年01月27日","description":"This is a custom description for SEO and Open Graph purposes, rather than the default generated excerpt. Simply add a description field to the frontmatter."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/SQL/","previous":{"fields":{"slug":"/红楼梦-贾宝玉范的两个病/"},"frontmatter":{"title":"宝玉范的两个病"}},"next":null}}}